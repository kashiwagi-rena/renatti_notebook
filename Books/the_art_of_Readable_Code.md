# リーダブルコード
リーダブルコードの鍵となる要素の抽出と説明書きです。

もっと詳しく知りたい際は、本書をご確認ください。

## １章　理解しやすいコード

### コードを理解しやすくなければいけない

簡潔で短いコードだから良いではない。長くても安心して読めるコードの方が良い

コードは短くした方がいい。だけど、**「理解するまでにかかる時間」を短くする方が大切だ**

### コードは他の人が最短時間で理解できるように書かなければいけない

そのまんまの意味だ

## 2章　名前に情報を詰め込む

### 名前に情報を詰め込む。

### 明確な単語を選ぶ

気取った言い回しよりも明確で的確の方がいい。

類義語を使用して、明確な名前付けをする

ただし、やり過ぎには注意

他の人のコードを見て、真似をすること

例えば、Getではなく、状況に応じてFetchやDownloadなどを使う。

### 汎用的な名前を避ける(あるいは、使う状況を選ぶ)

**retvalという名前には情報がない。変数の値を表すような名前を使うお。**

エンティティの値や目的を表した名前を選ぼう。retval = 「これは戻り値です。」以外の情報はない**tmpという名前は、生存期間が短くて、一時的な保管が最も大切な変数にだけ使おう。**

**tmpやretvalなどの汎用的な名前は避ける**—ただし、明確な理由があれば話は別だ。—

### 抽象的な名前よりも具体的な名前を使う

**tmp・it・retvalのような汎用的な名前を使うときは、それ相応の理由を用意しよう。**

**具体的な名前を使って、物事を詳細に説明する。**—ServerCanStart()よりもCanListenOnPort()の方が明確だ。—

### 接尾辞や接頭辞を使って情報を追加する

**変数名に大切な情報を追加する。**—ミリ秒を表す変数名には、後ろに_msをつける。これからエスケープが必要な変数名には、前にraw_をつける。

### 名前の長さを決める

**スコープの大きな変数には長い名前をつける。**—スコープが数画面に及ぶ変数に1~2文字の短い暗号めいた名前をつけてはいけない。短い名前はスコープが数行の変数につけるべきだ。

### 名前のフォーマットで情報を伝える

**名前に情報を追加する**

もし絶対に知らせなきゃいけない大切な情報があれば、「単語」を変数名に追加すればいい。変数の意味を間違えてしまったときにバグになりそうなところにだけ使うことが大切。特にセキュリティのバグのような深刻な被害が出るところに使うといいだろう。

大文字やアンダースコアなどに意味を含める—例えば、クラスのメンバ変数にアンダースコアをつけて、ローカル変数と区別する。

## 3章　誤解されない名前

名前が「他の意味と間違えられることはないだろうか？」と何度も自問自答する。

**限界値を明確にするには、名前の前にmax_やmin_をつけよう。**

最善の名前とは、誤解されない名前である。つまり、君のコードを読んでいる人が、君の意図を正しく理解できるということだ。英語の単語は、filter・length・limitのように、プログラミングに使うには意味が曖昧なものが多い。
　名前を決める前に反対意見を考えるなどして、誤解されない名前かどうかを想像してみよう。最善の名前というのは、誤解されない名前である。上下の限界値を決める時には、max_やmin_を前につけるといい。抱含的範囲であれば、firstやlastを使うといい。抱含/排他的範囲であれば、beginとendがイディオムなのでそれを使う。ブール値に名前をつける時には、それがブール値だと分かるようにisやhasなどの単語を使う。disable_sslのような否定型は避ける。
　単語に対するユーザの期待にも注意する。例えば、get()やsize()には軽量なメソッドが期待されている。

## 4章　美しさ
優れたソースコードは「目に優しい」ものでなければいけない。本章では、コードを読みやすくするための余白・配置・順序について説明しよう
- 読み手が慣れているパターンと一貫性のあるレイアウトを使う。
- 似ているコードは似ているように見せる。
- 関連するコードはまとめてブロックにする。

**一貫性のあるスタイルは「正しい」スタイルよりも大切だ。**

誰もが美しいコードを見るのが好きだ。一貫性と意味のあるやり方でコード「整形」すれば、すばやく簡単にコードを読むことができる。
- 複数のコードブロックで同じようなことをしていたら、シルエットも同じようなものにする
- コードの「列」を整列すれば、概要が把握しやすくなる
- ある場所でA・B・Cのように並んでいたものを、他の場所でB・A・Cのように並べてはいけない。意味のある順番を選んで、常にその順を守る。
- 空行を使って大きなブロックを論理的な「段落」に分ける

## 5章　コメントするべきことを知る
**コメントの目的は、書き手の意思を読み手に知らせることことである**
- コメントするべきで「ない」ことを知る
  **コードからすぐにわかることはコメントに書かない**
- コードを書いているときの自分の考えを記録する
- 読み手の立場になって何が必要になるかを考える

コメントの目的とは、コードの意図を読み手に理解してもらうことである。本章では、コードについてぼんやりと考えていたことをハッキリと理解して、実際に書き出すことをやってみた。
コメントすべきでは「ない」こと：
  - コードからすぐに抽出できること
  - ひどいコード（例えば、ひどい名前の関数）を補う「補助的なコメント」。コメントを書くのではなくコードを修正する

記録すべき自分の考え：
 - なぜコードが他のやり方ではなくこうなっているのか（「監督コメンタリー」）
 - コードの欠陥をTODO：やXXX：などの記法を使って示す
 - 定数の値にまつわる「背景」

読み手の立場になって考える：
 - コードを読んだ人が「えっ？」と思うところを予想してコメントをつける
 - 平均的な読み手が驚くような動作を文書化しておく
 - ファイルやクラスには「全体像」のコメントを書く
 - 読み手が細部に捕らわれないように、コードブロックにコメントをつけて概要をまとめる

## 6章　コメントは正確で簡潔に
**コメントは領域に対する情報の比率が高くなければいけない**

小さな領域にできるだけ多くの多くの情報を詰め込んだコメントを書くこと
 - 複数のものを指す可能性がある「それ」や「これ」などの代名詞を避ける
 - 関数の動作はできるだけ正確に説明する
 - コメントに含める入出力の実例を慎重に選ぶ
 - コードの意図は、詳細レベルではなく、高レベルで記述する
 - よくわからない引数にはインラインコメントを使う（例：Function(/* arg = :*/ ...）
 - 多くの意味が詰め込まれた言葉や表現を使って、コメントを簡潔に保つ

## 7章　制御フローを読みやすくする
**条件やループなどの制御フローはできるだけ「自然」にする。コードの読み手が立ち止まったり読み返したりしないように書く**

**行数を短くするよりも、他の人が理解するのにかかる時間を短くする**
- 基本的にはif/elseを使おう。三項演算子はそれによって簡潔になるときにだけ使おう

関数から早く返すのはいいことだ。むしろ望ましいときもある。

**変更する時にはコードを新鮮な目で見る。一歩下がって全体を見る。**

コードの制御フローを読みやすくするために君ができることはいくつもある。
　比較(while(bytes_expected > bytes_received))を書くときには、変化する値を左に、より安定した値を右に配置する(while(bytes_received < bytes_expected))
　if/else文のブロックは適切に並び替える。一般的には、肯定系・単純・目立つものを先に処理する。こうした基準は衝突することもあるけど、衝突がなければ基準を守っておこう。
　三項演算子(? :)・do/whileループ・gotoなどのプログラミング構成要素を使うと、コードが読みにくくなることが多い。代替となるものが必ずあるもので、これらは使わないほうがいいだろう。
　ネストしているとコードを追うのに集中力が必要になる。ネストが増えるたびに「スタックにプッシュ」することが増える。深いネストを避けるには「直接的」なコードを選択する。
　早めに返してあげると、ネストを削除したりコードをクリーンにしたりできる。特に「ガード節」（関数の上部で単純な条件を先に処理するもの）が便利だ。

